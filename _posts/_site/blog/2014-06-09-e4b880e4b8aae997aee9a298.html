<p>昨天在考计算机网络…又提前做完了卷子, 于是自己给自己出了一个很蛋疼的问题.</p>

<p>Pop star 3 这个游戏怎么写一个算法, 来找出每一关最多能拿到的分数是多少.</p>

<p>首先游戏的界面如下:</p>

<p><a href="http://royxue.me/wp-content/uploads/2014/06/一个问题.png"><img src="http://royxue.me/wp-content/uploads/2014/06/一个问题-217x300.png" alt="一个问题" /></a></p>

<p>游戏的规则就是:</p>

<ol>
  <li>
    <p>消除星星, 至少有两个在横竖方向连续存在. 得分计算如下: 2个:20分, 3个:45分, 4个:80分, 5个:125分, 6个:180分, 7个:245分, 8个:320分, 9个:405分. 则可知, 连接越多方块得分越高, 并且每个方块得分为 (10N-5), 总记得分为 5N^2</p>
  </li>
  <li>
    <p>剩余星星得分, 当每局最后剩余的星星数目小于10的时候, 会得到奖励分数. 计算如下: 9个:380,8个720, 7个:1020, 6个:1280, 5个:1500, 4个:1680 3个:1820, 2个:1920 1个:1980, 0个:2000. 此处的关系不是很明显, 不过运算量并不大, 我们可以直接依赖判断的方法取值.</p>
  </li>
</ol>

<p>然后一共有五种颜色, 即红黄蓝绿紫, 每一关有100(10x10)个方块, 我们可以转换一下, 红黄蓝绿紫分别对应 1~5, 并且把整个游戏的界面看成是一个矩阵, 所以我们的主要任务就是:</p>

<ol>
  <li>
    <p>对矩阵的每一个元素上下左右四个方向的元素进行比较, 如果数值相同则判定同一颜色的方块, 并且向对应方向延伸, 找出所有同色相连的方块, 并且计算连接的方块个数, 求出得分.</p>
  </li>
  <li>
    <p>当计算完一次同色连接方块之后, 需要将方块从矩阵中删除, 此处打算将这一些元素的值置为0, 即代表元素不存在, 但是这个时候随之也会产生别的问题, 就是在游戏中我一部分的方块位置坐标已经发生了改变, 但是在矩阵中, 由于置零机制的存在, 坐标并未发生变化, 所以这个地方在计算坐标的的时候还是要根据元素周围0的个数来对坐标做出相应的处理.</p>
  </li>
  <li>
    <p>为了找出最高分, 应该遍历出每一关所有可能涉及到的情况. 因为这个游戏是没有随机性因素存在的(所有方块的颜色在每一关开始的时候就已经确定, 不会再之后发生任何改变, 当然用道具的情况除外.)</p>
  </li>
  <li>
    <p>最后程序需要输出两个结果. 能获得的最高分, 与获得这个最高分每一步需要点击的坐标. 最高分是int, 目测数值在1000-6000范围值, 每一步需要的点击的坐标为list(step1, step2, …)因为每一次计算坐标的时候可能会有很多重复的数值, 为了准确, step1~N 用Set(集合)来表示, 用以确认这其中没有重复的项.</p>
  </li>
  <li>
    <p>为了优化空间复杂度, 每次遍历玩完一种解法的时候, 进行一次比较, 保留最大分值项, 程序最后只输出得分最大的那一种解法.</p>
  </li>
</ol>

<p>上面大概就是整个的基本思路了…至于输入矩阵在想是不是可以通过树莓派+PIL来解决, 直接通过摄像头读取图片, 并且自动转换成矩阵.</p>

<p>至于机器学习, 想过一下, 但是感觉没有用武之地啊, 在这里.</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>…</p>

<p>呵呵呵呵, 以上都只是YY, 等我找个时间实现了(拖延症你信么)</p>
