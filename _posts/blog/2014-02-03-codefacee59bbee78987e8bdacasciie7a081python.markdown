---
author: xljroy
comments: true
date: 2014-02-03 12:54:00+00:00
layout: post
slug: codeface%e5%9b%be%e7%89%87%e8%bd%acascii%e7%a0%81python
title: codeFace图片转ascii码#Python
wordpress_id: 161
categories:
- Python
---

首先运行此程序需要安装Python 2.7.x和PIL库

#如果你安装的是64位的Python,那么你无法安装PIL,安装pillow可以代替PIL(pillow相当于是64位的PIL)

先po上代码

    
    import sys
    from PIL import Image
    
    HEIGHT =  70
    chars = "   ...',;:clodxkO0KXNWMMM"
    
    def pic2ascii(filename):
        output = ''
        image = Image.open(filename)
        size = getsize(image)
        image = image.resize(size)
        image = image.convert('L')
        pixs = image.load()
        for y in range(size[1]):
            for x in range(size[0]):
                output += chars[(pixs[x,y]/10)-1]
            output += '\n'
        print output
    
    def getsize(image):
        '''Calculate the target picture size
        '''
        s_width = image.size[0]
        s_height = image.size[1]
        t_height = HEIGHT
        t_width = (t_height*s_width)/s_height
        t_width = int(t_width * 2.3)
        t_size = (t_width ,t_height)
        return t_size
    
    pic2ascii("roy.png")


基本思路是先通过把图片转化为灰度图,再根据灰度值给图像点赋预先设定好的字符值

预设色阶字符,可以自行修改

    
    chars = "   ...',;:clodxkO0KXNWMMM"


转化后的分辨率可以通过修改Height来实现(设定值越大效果越明显,但是考虑到屏幕显示的问题,一般在70-80左右即可)

    
    HEIGHT =  70


效果图如下

    
    XXXXXXXXXXXXXXXXXXXXNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNXXXXXX
    XXXXXXXXXXXXXXXNNNNNNNNNNNNNNNNNNNNNNNNNNNNMMMMMNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNXXXXX
    XXXXXXXXXXXXXXXNNNNNNNNNNNNNXXMNW0K00X0dOOW    MM MNNNNNNNNNNNNNNNNNNNNNNNNNNNNXNXXXX
    XXXXXXXXXXXXXNNNNNNNNNNNNNXM MMMXl0XdxON0:0XWXxk;XWNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNXX
    XXXXXXXXXXXXXNNNNNNNNNKNkKWNXMMXNNNNWNWlk0OOdX:MN0WNWWWWWWNNNNNNNNNNNNNNNNNNNNNNNNNNX
    XXXXXXXXXXNNNNNNNNNN'kKXXK:MNNNNNNNNNNNNXlKWlXWNcKXWWWWWWWWWWWWNNWNNNNNNNNNNNNNNNNNNX
    XXXXXNXNNNNNNNNNNNxOXXkl'WNNNNNNWNNWWM,dK d0WX,KNK0xXWWWWWWWWWWWWNWNNNNNNNNNNNNNNNNNN
    XXXXXNXNNNNNNNNNNNNcKXX0kdNNNNNNNNNNWkc0O  :0Xk'Md:o;0WWWWWWWWWWWWWNNNNNNNNNNNNNNNNNN
    XXXNNNNNNNNNNNNNNNNNN dKXNNXKMNNNNNNWW',KkoKKNNxXkk;dWWWWWWWWWWWWWWWWWWWNNNWNNNNNNNNN
    XXNNXXXNNNNNNNNNNNNNNNXW.x0K0KX0OOx;WM.;.KOxWNO c;c  .oWWWWWWWWWWWWWWNWWWWWNNNNNNNNNN
    XXXXXXNXNNNNNNNNNNNNNNNNNNX x000O0kX0Ox:kO0KK0K0  .dc0ckccNWWWWWWWWWWWWWNWNWNNNNNNNNN
    XXXXXNNNNNNNNNNNNNNNNNNNNNNNNNN dxNdk;.M OOOO00Okk.'cKOdNNXoWWWWWWWWWWWWWWWWWNNNNNNNN
    XXXXXXNXXNNNNNNNNNNNNNNXNNNNNNNNNX.x. c:.dNOOdXMO..O.OK.x0XXKdNWWWWWWWWWWWWWWWNNNNNNN
    XXXXXXXNNNNNNNNNNNNNNNNNNNNNNNNNNNNW  ...'NMO0.o...X..MWW0xKKNWKxMWWWWWWWWWWWWNNNNNNN
    XXXXXXXXXXXXXNXNXXNNNNXXXXXXNXNNNNNNW .. M0WMWWN...  WWWWWWWl0KXNK0oWWWWWWWWWWWWNNNNN
    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXNNN  ...MMMM......WWWWWWWWWWW.dKXXOMWWWWWWWWWWNNNNN
    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXNM....MMMM.....'WWWWWWWWWWWWOXKKx'MWWWWWWWWWNNNNN
    XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXN....MMMM.....WWWWWWWWWWWM0XX0dWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXXXXXXXKKKXKKKKXKXXKXXXXXXXX...MMMMx.....MWWWWWWWWWk0NXOMWWWWWWWWWWWWWWNNNN
    XXXXXXXXXXXXXXKXKKKKKKKKKKKKKKKKKKKXW....MMMM ......WNWWWWWMKXXK:WWWWWWWWWWWWWWWWNNNN
    XXXXXXXXXXXXXXKKKKKKKKKKKKKKKKK0MMM....  MMMM........NMWWMMWXKMWWWWWWWWWWWWWWWWWWWWNN
    XXXXXXXXXXKXKKKKKKKKK00000000000MN,...  MXMM     ....MNKMWM MWWWWWWWWWWWWWWWWWWWWWWNN
    XXXXXXXXXXXKKKKKKKK000000000000O00.x                MMlXxMM0MNWWWWWWWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXKKKKKKKK0000000000OOO00.lkOOc        .kxxl.WNNNNWWWWWWWWWWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXXKKKKKK0000000OOOOOOO00.:x00kxd     dkOOxo:MNNNNNWWWWWWWWWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXKKKKKKKK0000000OOOOOOOO0,lx0X0dd'W'oxk00kd;WNNNNNNWWWWWWWWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXXXKKKKKKK00000OOOOOOOOOO.,MMMMMMMK;dkO00xo'NNNNNNNNWWWWWWWWWWWWWWWWWWWWWWN
    XXXXXXXXXXXKKKKKKKKK000000OOOOOOOOOOKNWMMMMMWXWMMMWWNXNNNNNNNNNNWWWWWWWWWWWWWWWWWWWNN
    XXXXXXXXXXXXXKKKKKKK000000OOOOOOOOOOOK0k0X0kxNWMMMMWNXNNNNNNNNNNNWWWWWWWWWWWWWWWWWNNN
    XXXXXXXXXXXXXKKKKKKK0000000OOOOOOOOOONldkKX0kKdxkkxxOXNNNNNNNNNNNNWWNWWWWWWWWWWWWNNNN
    XXXXXXXXXXXXXXXXKKKKK00000OOOOOOOOOOOO.ox0XX0OdxkkxxXXXNNNNNNNNNNNWNWWWWNWWWWWNWWNNNN
    NNNXXXXXXXXXXXXXKKKKK00000OOOOOOOOOOOOO.dk0XX0KxkkxXXXXXNNNNNNNNNNNNNNNWWWWWNWNNNNNNN
    NNNXNXXXXXXXXXXXKKKKK00000OOOOOOOOOOOOOOlxkOX0kxxdoXXXXXXXNNNNNNNNWNNNNWNNNWNNNNNNNNN
    NNNNXXXXXXXXXXXXKKKK000000OOOOOOOOOOOOOOOoxxkXOxddXKKXXXXXNNNNNNNNNNNNNNNNNNNNNNNNNNN
    NNNNXNXXXXXXXXXXKKKKK00000OOOOOOOOOkkOOOkoxdoddoddKKKXXXXXXNNNNNNNNNNNNNNNNNNNNNNNNNN
    XXXNXXXXXXXXXXKKKKKKK00000OOOOOOOkkkkkkoodxkdo,odxKKKKXXXXXXXNNNNNNNNNNNNNNNNNNNNNNNN
    XNNNXXXXXXXXXXKKKKKK000000OOOOOOOkkkkkxldxkkxxlkkk0KKKKXXXXXXNNNNNNNNNNNNNNNNNNNNNNNN
    XXXXXXXXXXXXXXKKKKKK0000OOOOOOOOkkkkkkOoxkkxk;dOko0KKKKXXXXXXXNNNNNNNNNNNNNNNNNNNNNNN
    XXXXXXXXXXXXXKKKKKK000000OOOOOkkkkkkkkOokkkxxdk0dK0KKKKXXXXXXXNNNNNNNNNNNNNNNNNNNNNNN
    XXXXXXXXXXXXXKKKKKK00000OOOOOkkkkkkkkkOdkkxd:k0kk00KKKKXXXXXXXXXXXNNNNNNNNNNNNNNXXXXX
    XXXXXXXXXXXXKKKKKKKK0000OOOOOkkkkkkkkkoxOkk;xOOk0KKKKKKXXXXXXXXXXXXXXNNNNXXNNXXXXXXXX
    XXXXXXXXXXXXXXXKKKKK00000OOOOkkkkkxkkxcxkkkdk0OO0KKKKKXXXXXXXXXXXXXXNNNNNNXXXXXXXXXXX
    NNNNNNNNNNNNXXXXXXXXKKKK000OOOkkkxxxxxcxOOkkOOk00KKKKXXXXXNXNNNNNNNNNNNNNNNNNNNXXXXXX
    NNNWNNNNNNNNWNNNNNNNNXXXXKKK00OOOkkxxookkOOOOOKKKKXXXXNNNNNNNNNNNNNNNNNNNNNNNNNNNXXXX
    WWWWWWWWWWWWWWWWWWWWWWWNNNNXXKK00OOkkxdkkkxKO0KKXXNNNNNWWWWWWWWWWWWNWWNWWNNNNNNNNNNNX
    WWWMMWWMMMMMMMMMMMMMMMMMMWWWWNNXXK00OkkkkxOOkKKXNNWWWWWWWWWWMWMWWWWWWWWWWWWWWWNNNNNNN
    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWWNXKxxxxcxOkOKNNWWMMMMMMMMMMMMMMMMMMMMMMMMMMMWWWWWWWW
    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWXkxddcxkkkNWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWWWWWW
    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMX:KWKOkddxMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM.cxMK0OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM



