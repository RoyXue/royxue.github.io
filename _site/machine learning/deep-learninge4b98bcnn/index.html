<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Roy,Lijun,Xue,Roy Xue,Lijun Xue,薛立君">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">

    <title>Roy Xue is Here :) - Deep Learning之CNNs</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <!--<link rel="stylesheet" href="/css/main.css">-->


    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/assets/js/modernizr.js"></script>
</head>


    <body>
        <!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Roy Xue is Here :)</a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li ><a href="/">Home</a></li>
        <li ><a href="/blog/">Blog</a></li>
        <li ><a href="/portfolio/">Project</a></li>
        <li ><a href="/resume/">Resume</a></li>
        <li><a href="https://500px.com/xljroy">Gallery</a></li>
        <!-- <li ><a href="/about/">ABOUT</a></li> -->
        <!-- <li ><a href="/contact/">CONTACT</a></li> -->
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>


            <div id="blue">
    <div class="container">
        <div class="row">
            <h3>Deep Learning之CNNs</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mtb">
    <div class="row">
        <!-- SINGLE POST -->
        <div class="col-lg-8">
            <!-- Blog Post  -->
            <!-- <p><img class="img-responsive" src="/assets/img/blog/"></p> -->
            <a href="/machine%20learning/deep-learninge4b98bcnn"><h3 class="ctitle">Deep Learning之CNNs</h3></a>
            <p><csmall>Apr 29, 2014. | By: xljroy</csmall></p>

            <p>CNN-Convolutional Neural Networks 卷积神经网络.</p>

<p>source page: <a href="http://deeplearning.net/tutorial/lenet.html">http://deeplearning.net/tutorial/lenet.html</a></p>

<p>译文转自:http://www.cnblogs.com/charleshuang/p/3651843.html</p>

<p>在此基础上略作修改</p>

<h4 id="motivation">Motivation</h4>

<p>卷积神经网络（CNN）是多层感知机（MLP）的一个变种模型，它是从生物学概念中演化而来的。从Hubel和Wiesel早期对猫的视觉皮层的研究工作 <a href="http://deeplearning.net/tutorial/references.html#hubel68">[Hubel68]</a>, 我们知道在视觉皮层存在一种细胞的复杂分布，，这些细胞对于外界的输入局部是很敏感的，它们被称为“<em><strong>感受野</strong></em>”（细胞），它们以某种方法来覆盖整个视觉域。这些细胞就像一些滤波器一样，它们对输入的图像是局部敏感的，因此能够更好地挖掘出自然图像中的目标的空间关系信息。</p>

<p>此外，视觉皮层存在两类基础的细胞，S细胞（Simple Cell）和C（Complex Cell）细胞。S细胞在自身的感受野内最大限度地对图像中类似边缘模式的刺激做出响应，而C细胞具有更大的感受野，它可以对图像中产生刺激的模式的空间位置进行精准地定位。</p>

<p>视觉皮层作为目前已知的最为强大的视觉系统，广受关注。学术领域出现了很多基于它的神经启发式模型 ,具体可见: the NeoCognitron <a href="http://deeplearning.net/tutorial/references.html#fukushima">[Fukushima]</a>, HMAX <a href="http://deeplearning.net/tutorial/references.html#serre07">[Serre07]</a> and LeNet-5 <a href="http://deeplearning.net/tutorial/references.html#lecun98">[LeCun98]</a>, 这篇教程将会主要讲述LeNet-5.</p>

<h4 id="sparse-connectivity"> Sparse Connectivity</h4>

<p>CNNs通过加强神经网络中相邻层之间节点的局部连接模式（Local Connectivity Pattern）来挖掘自然图像（中的兴趣目标）的空间局部关联信息。第m层隐层的节点与第m-1层的节点的局部子集，并具有空间连续视觉感受野的节点（就是m-1层节点中的一部分，这部分节点在m-1层都是相邻的）相连。可以用下面的图来表示这种连接。</p>

<p><img src="http://deeplearning.net/tutorial/_images/sparse_1D_nn.png" alt="_images/sparse_1D_nn.png" /></p>

<p>假设，m-1层为视网膜输入层（接受自然图像）。根据上图的描述，在m-1层上面的m层的神经元节点都具有宽度为3的感受野，m层每一个节点连接下面的视网膜层的3个相邻的节点。m+1层的节点与它下面一层的节点有着相似的连接属性，所以m+1层的节点仍与m层中3个相邻的节点相连，但是对于输入层（视网膜层）连接数就变多了，在本图中是5。这种结构把训练好的滤波器（corresponding to the input producing the strongest response）构建成了一种空间局部模式（因为每个上层节点都只对感受野中的，连接的局部的下层节点有响应）。根据上面图，多层堆积形成了滤波器（不再是线性的了），它也变得更具有全局性了（如包含了一大片的像素空间）。比如，在上图中，第m+1层能够对宽度为5的非线性特征进行编码（就像素空间而言）。</p>

<h4 id="shared-weights"> Shared Weights</h4>

<p>在CNNs中，每一个稀疏滤波器hi在整个感受野中是重复叠加的，这些重复的节点形式了一种<strong><em>特征图</em></strong>（feature map）,这个特种图可以共享相同的参数，比如相同的权值矩阵和偏置向量。</p>

<p><img src="http://deeplearning.net/tutorial/_images/conv_1D_nn.png" alt="_images/conv_1D_nn.png" /></p>

<p>在上图中，属于同一个特征图的三个隐层节点，因为需要共享相同颜色的权重, 他们的被限制成相同的。在这里， 梯度下降算法仍然可以用来训练这些共享的参数，只需要在原算法的基础上稍作改动即可。共享权重的梯度可以对共享参数的梯度进行简单的求和得到。</p>

<p>为什么对权值共享如此感兴趣呢？无论重复单元在感受野的什么位置，他们都可以检测到特征。此外，权值共享提供了一种高效的方式来实现这个，因为这种方式大大减少了需要学习（训练）的参数数目。如果控制好模型的容量，CNN在解决计算机视觉问题上会有更好的泛化能力。</p>

<h4 id="details-and-notation">Details and Notation</h4>

<p>从概念上来说，特征图是通过对输入图像在一个线性滤波器上做卷积，增加一个偏置项，在此结果上再作用一个非线性函数得到的。如果我们把某一层的第k个特征图记为hk，它的滤波器由权值Wk和偏置bk所决定，所以特征图的由下面公式定义（非线性函数取tanh）：</p>

<p><img src="http://deeplearning.net/tutorial/_images/math/4926ab4bd60334042cac8e9d8466ce56bfb181b7.png" alt="h^k_{ij} = \tanh ( (W^k * x)_{ij} + b_k )." /></p>

<p>Note: 如下是对于1维信号卷积过程的定义. <img src="http://deeplearning.net/tutorial/_images/math/45513e64a977c246dd75b437cc2111649886ab7f.png" alt="o[n] = f[n]*g[n] = \sum_{u=-\infty}^{\infty} f[u] g[u-n] = \sum_{u=-\infty}^{\infty} f[n-u] g[u]" />. </p>

<p>也可以拓展到二维使用:</p>

<p><img src="http://deeplearning.net/tutorial/_images/math/5aa608f746bb0f7f755520e47253dab37a3b0923.png" alt="o[m,n] = f[m,n]*g[m,n] = \sum_{u=-\infty}^{\infty} \sum_{v=-\infty}^{\infty} f[u,v] g[u-m,v-n]" />.</p>

<p>为了更好地表示数据，隐层由多个特征图构成，{hk,k=1,2,3 …K}.权值W由4个参数决定（目标特征图的索引、源特征图的索引、源垂直位置的索引、源水平位置的索引）（可以说W是一个4维的Tensor），偏置b为一个向量,向量中的每一个元素对应一个特征图的索引。我们用下图来表示： </p>

<p><img src="http://deeplearning.net/tutorial/_images/cnn_explained.png" alt="_images/cnn_explained.png" /></p>

<p>上图是一个包含2层神经元节点的CNN，包括m-1层的4个特征图和m层的2个特征图（h0,h1）。神经元在h0,h1的输出（像素）是由m-1层中在其2*2的感受野中的像素计算得到的。这里注意感受野是如何跨越4个特征图的，h0和h1权值W0，W1是3维的权重Tensor，一个表示输入特征图的索引，另外两个表示像素坐标。</p>

<p>总的来说，<img src="http://deeplearning.net/tutorial/_images/math/a13f0c870b8029964f31b44be7399f5074e672d7.png" alt="W^{kl}_{ij}" /> 表示连接第m层第k个特征图的特征图上的每一个像素的权重，与之连接的是m-1层上第l个特征图中坐标为（i,j）的像素。</p>

<h2 id="the-convop">The ConvOp</h2>

<p>ConvOp是Theano中对卷积层的一个实现。它重复了Scipy中scipy.signal.convolve2d的函数功能，总的来讲,ConvOp包含了两个输入（参数）:</p>

<p>1.对应输入图像的mini-batch的4D Tensor。每个张量的大小为：[mini-batch的大小，输入的特征图的数量，图像的高度，图像的宽度]</p>

<p>2.对应于权值W的4D Tensor。每个张量的大小为：[m层的特征图数量，m-1层的特征图数量，滤波器的高度，滤波器的宽度]。</p>

<p>下面代码实现了Figure 1中的卷积层，输入包括了大小为120<em>160的3个特征图(对应RGB). 我们可以用两个具有9</em>9的感受野的卷积过滤器。</p>

<pre><code>from theano.tensor.nnet import conv
rng = numpy.random.RandomState(23455)

# instantiate 4D tensor for input
input = T.tensor4(name='input')

# initialize shared variable for weights.
w_shp = (2, 3, 9, 9)
w_bound = numpy.sqrt(3 * 9 * 9)
W = theano.shared( numpy.asarray(
            rng.uniform(
                low=-1.0 / w_bound,
                high=1.0 / w_bound,
                size=w_shp),
            dtype=input.dtype), name ='W')

# initialize shared variable for bias (1D tensor) with random values
# IMPORTANT: biases are usually initialized to zero. However in this
# particular application, we simply apply the convolutional layer to
# an image without learning the parameters. We therefore initialize
# them to random values to "simulate" learning.
b_shp = (2,)
b = theano.shared(numpy.asarray(
            rng.uniform(low=-.5, high=.5, size=b_shp),
            dtype=input.dtype), name ='b')

# build symbolic expression that computes the convolution of input with filters in w
conv_out = conv.conv2d(input, W)

# build symbolic expression to add bias and apply activation function, i.e. produce neural net layer output
# A few words on ``dimshuffle`` :
#   ``dimshuffle`` is a powerful tool in reshaping a tensor;
#   what it allows you to do is to shuffle dimension around
#   but also to insert new ones along which the tensor will be
#   broadcastable;
#   dimshuffle('x', 2, 'x', 0, 1)
#   This will work on 3d tensors with no broadcastable
#   dimensions. The first dimension will be broadcastable,
#   then we will have the third dimension of the input tensor as
#   the second of the resulting tensor, etc. If the tensor has
#   shape (20, 30, 40), the resulting tensor will have dimensions
#   (1, 40, 1, 20, 30). (AxBxC tensor is mapped to 1xCx1xAxB tensor)
#   More examples:
#    dimshuffle('x') -&gt; make a 0d (scalar) into a 1d vector
#    dimshuffle(0, 1) -&gt; identity
#    dimshuffle(1, 0) -&gt; inverts the first and second dimensions
#    dimshuffle('x', 0) -&gt; make a row out of a 1d vector (N to 1xN)
#    dimshuffle(0, 'x') -&gt; make a column out of a 1d vector (N to Nx1)
#    dimshuffle(2, 0, 1) -&gt; AxBxC to CxAxB
#    dimshuffle(0, 'x', 1) -&gt; AxB to Ax1xB
#    dimshuffle(1, 'x', 0) -&gt; AxB to Bx1xA
output = T.nnet.sigmoid(conv_out + b.dimshuffle('x', 0, 'x', 'x'))

# create theano function to compute filtered images
f = theano.function([input], output)
</code></pre>

<p>我们可以用他做一些好玩的事,比如</p>

<pre><code>import pylab
from PIL import Image

# open random image of dimensions 639x516
img = Image.open(open('images/3wolfmoon.jpg'))
img = numpy.asarray(img, dtype='float64') / 256.

# put image in 4D tensor of shape (1, 3, height, width)
img_ = img.swapaxes(0, 2).swapaxes(1, 2).reshape(1, 3, 639, 516)
filtered_img = f(img_)

# plot original image and first and second components of output
pylab.subplot(1, 3, 1); pylab.axis('off'); pylab.imshow(img)
pylab.gray();
# recall that the convOp output (filtered image) is actually a "minibatch",
# of size 1 here, so we take index 0 in the first dimension:
pylab.subplot(1, 3, 2); pylab.axis('off'); pylab.imshow(filtered_img[0, 0, :, :])
pylab.subplot(1, 3, 3); pylab.axis('off'); pylab.imshow(filtered_img[0, 1, :, :])
</code></pre>

<p>将会生成</p>

<p><img src="http://deeplearning.net/tutorial/_images/3wolfmoon_output.png" alt="_images/3wolfmoon_output.png" /></p>

<p>我们发现，随机初始化的的滤波器能够产生边缘检测算子的作用。</p>

<p>另外，我们使用了相同的公式对权值进行初始化，这些权值都是从一个范围为[-1/fan-in, 1/fan-in]的均匀分布中采样得到的，fan-in是隐层的输入节点数目，在MLP中，这个fan-in就是下面那一层的节点数目，然而对于CNN来说，我们需要考虑到输入特征图的数量，以及感受野的大小。</p>

<h4 id="max-pooling">Max Pooling</h4>

<p>CNNs中另一个很重要的概念是最大池化（max-pooling），这是一种非线性的下采样的方法。最大池化把输入图像分割成为不重叠的矩阵，每一个子区域（矩形区域），都输出最大值。</p>

<p>最大池化技术在视觉问题中是很有用的，原因有两个：（1）降低了上层的计算复杂度。（2）提出了一种变化的不变性形式。为了理解这种不变性，我们假设把最大池化层和一个卷基层结合起来，对于单个像素，有8个变换的方向，如果共有最大层在2<em>2的窗口上面实现，这8个可能的配置中，有3个可以准确的产生和卷积层相同的结果。如果窗口变成3</em>3，则产生精确结果的概率变成了5/8。</p>

<p>因此，它对于位移变化有着不错的鲁棒性，最大池化用一种很灵活的方式降低了中间表示层的维度。</p>

<p>最大池化在Theano中通过theano.tensor.signal.downsample.max_pool_2d实现了。这个函数以一个N维的张量作为输入（N&gt;2），和一个缩放因子用来对这个张量进行最大池化的变换。下面是例程代码：</p>

<pre><code>from theano.tensor.signal import downsample

input = T.dtensor4('input')
maxpool_shape = (2, 2)
pool_out = downsample.max_pool_2d(input, maxpool_shape, ignore_border=True)
f = theano.function([input],pool_out)

invals = numpy.random.RandomState(1).rand(3, 2, 5, 5)
print 'With ignore_border set to True:'
print 'invals[0, 0, :, :] =\n', invals[0, 0, :, :]
print 'output[0, 0, :, :] =\n', f(invals)[0, 0, :, :]

pool_out = downsample.max_pool_2d(input, maxpool_shape, ignore_border=False)
f = theano.function([input],pool_out)
print 'With ignore_border set to False:'
print 'invals[1, 0, :, :] =\n ', invals[1, 0, :, :]
print 'output[1, 0, :, :] =\n ', f(invals)[1, 0, :, :]
</code></pre>

<p>将会生成如下结果</p>

<pre><code>With ignore_border set to True:
    invals[0, 0, :, :] =
    [[  4.17022005e-01   7.20324493e-01   1.14374817e-04   3.02332573e-01 1.46755891e-01]
     [  9.23385948e-02   1.86260211e-01   3.45560727e-01   3.96767474e-01 5.38816734e-01]
     [  4.19194514e-01   6.85219500e-01   2.04452250e-01   8.78117436e-01 2.73875932e-02]
     [  6.70467510e-01   4.17304802e-01   5.58689828e-01   1.40386939e-01 1.98101489e-01]
     [  8.00744569e-01   9.68261576e-01   3.13424178e-01   6.92322616e-01 8.76389152e-01]]
    output[0, 0, :, :] =
    [[ 0.72032449  0.39676747]
     [ 0.6852195   0.87811744]]

With ignore_border set to False:
    invals[1, 0, :, :] =
    [[ 0.01936696  0.67883553  0.21162812  0.26554666  0.49157316]
     [ 0.05336255  0.57411761  0.14672857  0.58930554  0.69975836]
     [ 0.10233443  0.41405599  0.69440016  0.41417927  0.04995346]
     [ 0.53589641  0.66379465  0.51488911  0.94459476  0.58655504]
     [ 0.90340192  0.1374747   0.13927635  0.80739129  0.39767684]]
    output[1, 0, :, :] =
    [[ 0.67883553  0.58930554  0.69975836]
     [ 0.66379465  0.94459476  0.58655504]
     [ 0.90340192  0.80739129  0.39767684]]
</code></pre>

<p>注意到和大部分代码不同的是，这个函数max_pool_2d 在创建Theano图的时候，需要一个向下采样的因子ds (长度为2的tuple变量，表示了图像的宽和高的缩放. 这个可能在以后的版本中升级。</p>

<p>暂时先看到这里,未完待续</p>

<p> </p>



            <div class="spacing"></div>
            <!-- <h6>SHARE:</h6>
            <p class="share">
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-tumblr"></i></a>
                <a href="#"><i class="fa fa-google-plus"></i></a>
            </p> -->
        </div><!--/col-lg-8 -->

        <div class="col-lg-4">
   <!--  <h4>Search</h4>
    <div class="hline"></div>
        <p>
            <br/>
            <input type="text" class="form-control" placeholder="Search something">
        </p>
    <div class="spacing"></div> -->
    <h4>Subscribe</h4>
    <div class="hline"></div>
        <p>
            <p class="rss-subscribe">Subscribe to this blog <a href="/feed.xml">via RSS</a>.</p>
        </p>
    <div class="spacing"></div>
    <h4>Categories</h4>
    <div class="hline"></div>
    
        <p>
            <a href="/category/#life"><i class="fa fa-angle-right"></i> Life</a>
            <span class="badge badge-theme pull-right">56</span>
        </p>
    
        <p>
            <a href="/category/#having fun"><i class="fa fa-angle-right"></i> Having fun</a>
            <span class="badge badge-theme pull-right">6</span>
        </p>
    
        <p>
            <a href="/category/#python"><i class="fa fa-angle-right"></i> Python</a>
            <span class="badge badge-theme pull-right">9</span>
        </p>
    
        <p>
            <a href="/category/#hacker"><i class="fa fa-angle-right"></i> Hacker</a>
            <span class="badge badge-theme pull-right">2</span>
        </p>
    
        <p>
            <a href="/category/#dev"><i class="fa fa-angle-right"></i> Dev</a>
            <span class="badge badge-theme pull-right">12</span>
        </p>
    
        <p>
            <a href="/category/#scrapy"><i class="fa fa-angle-right"></i> Scrapy</a>
            <span class="badge badge-theme pull-right">3</span>
        </p>
    
        <p>
            <a href="/category/#theano"><i class="fa fa-angle-right"></i> Theano</a>
            <span class="badge badge-theme pull-right">14</span>
        </p>
    
        <p>
            <a href="/category/#machine learning"><i class="fa fa-angle-right"></i> Machine learning</a>
            <span class="badge badge-theme pull-right">5</span>
        </p>
    
        <p>
            <a href="/category/#explorer"><i class="fa fa-angle-right"></i> Explorer</a>
            <span class="badge badge-theme pull-right">3</span>
        </p>
    
        <p>
            <a href="/category/#rails"><i class="fa fa-angle-right"></i> Rails</a>
            <span class="badge badge-theme pull-right">1</span>
        </p>
    
        <p>
            <a href="/category/#design"><i class="fa fa-angle-right"></i> Design</a>
            <span class="badge badge-theme pull-right">1</span>
        </p>
    

    <div class="spacing"></div>

    <h4>Recent Posts</h4>
    <div class="hline"></div>
        <ul class="popular-posts">
             
                <li>
                    <!-- <a href="/blog/design/first-time-icon-design"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/design/first-time-icon-design">First Time Icon Design</a></p>
                <em>Posted on 12 Apr 2015</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/dev/rails/loading-rails-models-into-fullcalendar"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/dev/rails/loading-rails-models-into-fullcalendar">Loading Rails Models into FullCalendar</a></p>
                <em>Posted on 06 Apr 2015</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/life/dev/bookmarks-migration-plan"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/life/dev/bookmarks-migration-plan">Bookmarks Migration Plan</a></p>
                <em>Posted on 03 Apr 2015</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/life/living-in-japan"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/life/living-in-japan">Living in Japan</a></p>
                <em>Posted on 16 Mar 2015</em>
            </li>
             
        </ul>

    <div class="spacing"></div>

    <!-- <h4>Popular Tags</h4>
    <div class="hline"></div>
    <p>
    
            <a class="btn btn-theme" href="/category/#life" role="button">Life (56)</a>	         
        
            <a class="btn btn-theme" href="/category/#having fun" role="button">Having fun (6)</a>	         
        
            <a class="btn btn-theme" href="/category/#python" role="button">Python (9)</a>	         
        
            <a class="btn btn-theme" href="/category/#hacker" role="button">Hacker (2)</a>	         
        
            <a class="btn btn-theme" href="/category/#dev" role="button">Dev (12)</a>	         
        
            <a class="btn btn-theme" href="/category/#scrapy" role="button">Scrapy (3)</a>	         
        
            <a class="btn btn-theme" href="/category/#theano" role="button">Theano (14)</a>	         
        
            <a class="btn btn-theme" href="/category/#machine learning" role="button">Machine learning (5)</a>	         
        
            <a class="btn btn-theme" href="/category/#explorer" role="button">Explorer (3)</a>	         
        
            <a class="btn btn-theme" href="/category/#rails" role="button">Rails (1)</a>	         
        
            <a class="btn btn-theme" href="/category/#design" role="button">Design (1)</a>	         
        
    </p> -->
</div>

    </div><!--/row -->
</div><!--/container -->


        <div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <h4>About</h4>
                <div class="hline-w"></div>
                <p>Exploring the world :)</p>
            </div>
            <div class="col-lg-4">
                <h4>Social Links</h4>
                <div class="hline-w"></div>
                <p>
                    
                        <a href="https://www.facebook.com/roy.xue29" class="btn-social btn-outline"><i class="fa fa-facebook"></i></a>
                    
                        <a href="https://twitter.com/xljroy" class="btn-social btn-outline"><i class="fa fa-twitter"></i></a>
                    
                        <a href="http://instagram.com/xljroy" class="btn-social btn-outline"><i class="fa fa-instagram"></i></a>
                    
                        <a href="https://plus.google.com/+RoyXue" class="btn-social btn-outline"><i class="fa fa-google-plus"></i></a>
                    
                        <a href="https://cn.linkedin.com/in/royxue" class="btn-social btn-outline"><i class="fa fa-linkedin"></i></a>
                    
                        <a href="https://github.com/royxue" class="btn-social btn-outline"><i class="fa fa-github"></i></a>
                    
                        <a href="https://500px.com/xljroy" class="btn-social btn-outline"><i class="fa fa-picture-o"></i></a>
                    
                </p>
            </div>
            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    
                        Email=> xljroy#gmail.com <br>
                    
                        Wechat=> xljroy <br>
                    
                        Line=> royxue29 <br>
                    
                </p>
            </div>
        </div><!--/row -->
    </div><!--/container -->
</div><!--/footerwrap -->

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/retina-1.1.0.js"></script>
<script src="/assets/js/jquery.hoverdir.js"></script>
<script src="/assets/js/jquery.hoverex.min.js"></script>
<script src="/assets/js/jquery.prettyPhoto.js"></script>
<script src="/assets/js/jquery.isotope.min.js"></script>
<script src="/assets/js/custom.js"></script>
<script src="/assets/js/jquery.typer.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58877422-1', 'auto');
  ga('send', 'pageview');

</script>

<script>
// Portfolio
(function($) {
	"use strict";
	var $container = $('.portfolio'),
		$items = $container.find('.portfolio-item'),
		portfolioLayout = 'fitRows';
		if( $container.hasClass('portfolio-centered') ) {
			portfolioLayout = 'masonry';
		}
		$container.isotope({
			filter: '*',
			animationEngine: 'best-available',
			layoutMode: portfolioLayout,
			animationOptions: {
			duration: 750,
			easing: 'linear',
			queue: false
		},
		masonry: {
		}
		}, refreshWaypoints());

		function refreshWaypoints() {
			setTimeout(function() {
			}, 1000);
		}

		$('nav.portfolio-filter ul a').on('click', function() {
				var selector = $(this).attr('data-filter');
				$container.isotope({ filter: selector }, refreshWaypoints());
				$('nav.portfolio-filter ul a').removeClass('active');
				$(this).addClass('active');
				return false;
		});

		function getColumnNumber() {
			var winWidth = $(window).width(),
			columnNumber = 1;

			if (winWidth > 1200) {
				columnNumber = 5;
			} else if (winWidth > 950) {
				columnNumber = 4;
			} else if (winWidth > 600) {
				columnNumber = 3;
			} else if (winWidth > 400) {
				columnNumber = 2;
			} else if (winWidth > 250) {
				columnNumber = 1;
			}
				return columnNumber;
			}

			function setColumns() {
				var winWidth = $(window).width(),
				columnNumber = getColumnNumber(),
				itemWidth = Math.floor(winWidth / columnNumber);
				$container.find('.portfolio-item').each(function() {
					$(this).css( {
					width : itemWidth + 'px'
				});
			});
		}

		function setPortfolio() {
			setColumns();
			$container.isotope('reLayout');
		}

		$container.imagesLoaded(function () {
			setPortfolio();
		});

		$(window).on('resize', function () {
		setPortfolio();
	});
})(jQuery);
</script>
<script>
  $(function () {
    $('[data-typer-targets]').typer();
  });
</script>
    </body>
</html>