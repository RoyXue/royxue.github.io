<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/assets/ico/favicon.ico">

    <title>Roy Xue is Here :) - Roy's Solution for MCM 2014#Python</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/assets/css/style.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <!--<link rel="stylesheet" href="/css/main.css">-->


    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/assets/js/modernizr.js"></script>
</head>

    <body>
        <!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Roy Xue is Here :)</a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li ><a href="/">HOME</a></li>
        <li ><a href="/blog/">BLOG</a></li>
        <!-- <li ><a href="/portfolio/">PORTFOLIO</a></li> -->
        <!-- <li ><a href="/about/">ABOUT</a></li> -->
        <!-- <li ><a href="/contact/">CONTACT</a></li> -->
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

            <div id="blue">
    <div class="container">
        <div class="row">
            <h3>Roy's Solution for MCM 2014#Python</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mtb">
    <div class="row">
        <! -- SINGLE POST -->
        <div class="col-lg-8">
            <! -- Blog Post  -->
            <p><img class="img-responsive" src="/assets/img/blog/"></p>
            <a href="/python/roys-solution-for-mcm-2014python"><h3 class="ctitle">Roy's Solution for MCM 2014#Python</h3></a>
            <p><csmall>Feb 11, 2014. | By: xljroy</csmall></p>
              
            <p>6:02 am NOW!在DDL之前完工了论文.终于到了睡觉的时间了.突然觉得睡觉之前还是把这个写完,不然拖延症发作又不知道要过多久了…</p>

<p>2014 MCM 的题好像也没有想象的那么复杂,虽然我只负责代码和写作,挺狗屎运的是题目和数据挖掘有关系,正好之前大家也是一直练习C题,所以没有过多思考就选了C题(其实我根本没有看AB题,所以我至今不知道他们是什么内容),顺便其实我也根本没看matlab因为不喜欢,不过刚刚好Python基本可以解决的这道题里面的问题,下面就贴出的我的Python代码,内容有些乱(实际使用时是分模块Run的,这次整合到了一起因为Run一次时间挺长的没有测试,),请见谅~</p>

<p>贴代码之前先说一下,本来一开始看到数!!据!!挖!!掘!!,第一反应是把它丢进Rapiminer或者Weka里面之前分析一下,但是,官网给的资料格式实在是…高级偷懒症患者于是陷入了纠结…最后突然灵光一现想到了Networkx小伙伴(只是比较省事= =)!!!所以这次的代码主要是基于它开发的.Networkx是基于Python的图论和复杂网络Eva建模工具,内置了我们常用的图和复杂网络分析的算法,可以便捷方便的建立基础或复杂网络,并且对网络进行数据分析,仿真建模.不过说实话,功能虽然强大但是速度实在有点慢(我的电脑是i7 + 8G),所以使用前需要修炼好忍耐力.PS:Networkx:<a href="http://networkx.github.io/">http://networkx.github.io/</a></p>

<pre><code>#coding: utf-8
#author: Roy Xue
#verion: beta

import re
import urllib2
import networkx as nx 
import matplotlib.pyplot as plt

#Step 1 爬虫爬取题目资料
url='https://files.oakland.edu/users/grossman/enp/Erdos1.html' 
content=urllib2.urlopen(url).read()
file= open('coau.txt','w')
file.write(content)
file.close()
print 'Step 1 done'

#Step 2 利用正则表达式初步处理题目资料
file= open('coau.txt','r')
co= open('cooau.txt','w')
content=file.read()
av=content.split('\n')
for i in avv:
	co.write(i)
co.close()
file.close()
print 'Step 2 done'

#Step 3 绘制网络图
G = nx.Graph()
auN=open('coau.txt','r')
au510=''
for i in auN:	
	i_pat=re.compile(r'(.*?)19')
	i_pat_2=re.compile(r'\t(.*?)\n')
	if i :
		if i_pat.match(i):
			i=re.findall(i_pat,i)
			print i[0]
			a = unicode(i[0],"utf-8")
			G.add_node(a)
			c = a
		elif i_pat_2.match(i):
			i=re.findall(i_pat_2,i)
			print i
			a=unicode(i[0],"utf-8")
			G.add_edge(c,a)
#形成关系网络图
#无向无权图

for n in G.nodes():
	if (G.degree(n) == 1):
		G.remove_node(n)
		print 'Target Removed'
#初步处理,取出度为1的作者

nx.draw(G)
print 'Graph Drawing, plz wait'                          
plt.savefig("garph.png")
print 'Graph Saved'          
plt.show()
print 'Check Out Ur Graph, Next Step Will Start When Ur Close Graph Windows'  
#绘制图像 png格式保存 

#Step 4 对图进行分析
print G.number_of_nodes()
#输出图总节点数
print G.number_of_edges()
#输出图总边数

print G.degree()
#输出各个节点的度
dgreeOut= sorted(G.degree().iteritems(), key=lambda d:d[1], reverse = True)
print dgreeOut
#输出排序版度分布表

print nx.average_clustering(G)
#输出平均聚类系数
print nx.clustering(G)
#输出聚类系数分布表
b=nx.clustering(G)
clusterOut= sorted(b.iteritems(), key=lambda d:d[1], reverse = True)
print clusterOut
#输出排序版聚类系数分布表

print nx.degree_centrality(G)
#输出度中心性表
c=nx.degree_centrality(G)
centralityOut= sorted(c.iteritems(), key=lambda d:d[1], reverse = True)
print centralityOut
#输出排序版度中心性表

print nx.degree_histogram(G) 
#输出度分布序列
degree =  nx.degree_histogram(G)          
#返回图中所有节点的度分布序列
x = range(len(degree))                             
#生成x轴序列，从1到最大度
y = [z / float(sum(degree)) for z in degree]  
#将频次转换为频率，这用到Python的一个小技巧：列表内涵
plt.loglog(x,y,color="blue",linewidth=2)           
#在双对数坐标轴上绘制度分布曲线  
plt.show() 

print nx.adjacency_matrix(G,G.nodes())
a=nx.adjacency_matrix(G,G.nodes())
for i in a:
	for q in i:
		print q
#输出邻接矩阵.

au=open('coau.txt','r')
i_pat=re.compile(r'(.*?)19')
auDict={}
for i in au:
	if i_pat.match(i):
		c=i[-5:-1]
		print i[-5:-1]
		i=re.findall(i_pat,i)
		auDict[i[0]]=c
		print i[0]
print auDict
auDictS= sorted(auDict.iteritems(), key=lambda d:d[1], reverse = True)
print auDictS
#输出排序版合著数量表
</code></pre>

<p>MCM2014.py</p>

<p>除了这里面之外还用了其他技能,比如代码里面的Step2其实写好了最后没用到,我也忘记为什么了,貌似是因为人工更方便快捷一点…顺便分享另外一个小技巧,如何快速数据分行,networkx里面的数据输出默认是用字典形式,但是这并不方便利用其它软件分析,你可能和我一样对分行的第一反应是用re!!!但是,不得不说word其实可以更方便,使用替换功能^p代表换行符,一件分行.</p>

<p>好久没有写过1000+的blog了…庆祝一下…叫你再懒!</p>

<p>欢迎拍砖吐槽交流,评论请注册留言或电邮xljroy@gmail.com联系我</p>


            <div class="spacing"></div>
            <!-- <h6>SHARE:</h6>
            <p class="share">
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-tumblr"></i></a>
                <a href="#"><i class="fa fa-google-plus"></i></a>		 		
            </p> -->
        </div><! --/col-lg-8 -->
        
        <div class="col-lg-4">
   <!--  <h4>Search</h4>
    <div class="hline"></div>
        <p>
            <br/>
            <input type="text" class="form-control" placeholder="Search something">
        </p>
    <div class="spacing"></div> -->
    <h4>Subscribe</h4>
    <div class="hline"></div>
        <p>
            <p class="rss-subscribe">Subscribe to this blog <a href="/feed.xml">via RSS</a>.</p>
        </p>
    <div class="spacing"></div>
    <h4>Categories</h4>
    <div class="hline"></div>
    
        <p>
            <a href="/category/#life"><i class="fa fa-angle-right"></i> Life</a>
            <span class="badge badge-theme pull-right">53</span>
        </p>
    
        <p>
            <a href="/category/#having fun"><i class="fa fa-angle-right"></i> Having fun</a>
            <span class="badge badge-theme pull-right">6</span>
        </p>
    
        <p>
            <a href="/category/#python"><i class="fa fa-angle-right"></i> Python</a>
            <span class="badge badge-theme pull-right">9</span>
        </p>
    
        <p>
            <a href="/category/#hacker"><i class="fa fa-angle-right"></i> Hacker</a>
            <span class="badge badge-theme pull-right">2</span>
        </p>
    
        <p>
            <a href="/category/#dev"><i class="fa fa-angle-right"></i> Dev</a>
            <span class="badge badge-theme pull-right">9</span>
        </p>
    
        <p>
            <a href="/category/#scrapy"><i class="fa fa-angle-right"></i> Scrapy</a>
            <span class="badge badge-theme pull-right">3</span>
        </p>
    
        <p>
            <a href="/category/#theano"><i class="fa fa-angle-right"></i> Theano</a>
            <span class="badge badge-theme pull-right">14</span>
        </p>
    
        <p>
            <a href="/category/#machine learning"><i class="fa fa-angle-right"></i> Machine learning</a>
            <span class="badge badge-theme pull-right">5</span>
        </p>
    
        <p>
            <a href="/category/#explorer"><i class="fa fa-angle-right"></i> Explorer</a>
            <span class="badge badge-theme pull-right">2</span>
        </p>
    

    <div class="spacing"></div>

    <h4>Recent Posts</h4>
    <div class="hline"></div>
        <ul class="popular-posts">
             
                <li>
                    <!-- <a href="/blog/having%20fun/monster-hunter-4g-e78ba9e78c8ee697a5e8aeb0"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/having%20fun/monster-hunter-4g-e78ba9e78c8ee697a5e8aeb0">Monster Hunter 4G 狩猎日记</a></p>
                <em>Posted on 06 Jan 2015</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/life/e38195e38288e381aae38289e38080efbc92efbc90efbc91efbc94"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/life/e38195e38288e381aae38289e38080efbc92efbc90efbc91efbc94">さよなら　２０１４</a></p>
                <em>Posted on 01 Jan 2015</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/app-e28ea1e9b29ce5a3b0e28ea6-e4b88ae7babf"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/app-e28ea1e9b29ce5a3b0e28ea6-e4b88ae7babf">App ⎡鲜声⎦ 上线</a></p>
                <em>Posted on 20 Dec 2014</em>
            </li>
             
                <li>
                    <!-- <a href="/blog/python/tricks-inside-python-loop"><img src="/assets/img/blog/thumbs/" alt="Popular Post"></a> -->
                    <p><a href="/blog/python/tricks-inside-python-loop">Tricks inside Python Loop</a></p>
                <em>Posted on 05 Dec 2014</em>
            </li>
             
        </ul>

    <div class="spacing"></div>

    <!-- <h4>Popular Tags</h4>
    <div class="hline"></div>
    <p>
    
            <a class="btn btn-theme" href="/category/#life" role="button">Life (53)</a>	         
        
            <a class="btn btn-theme" href="/category/#having fun" role="button">Having fun (6)</a>	         
        
            <a class="btn btn-theme" href="/category/#python" role="button">Python (9)</a>	         
        
            <a class="btn btn-theme" href="/category/#hacker" role="button">Hacker (2)</a>	         
        
            <a class="btn btn-theme" href="/category/#dev" role="button">Dev (9)</a>	         
        
            <a class="btn btn-theme" href="/category/#scrapy" role="button">Scrapy (3)</a>	         
        
            <a class="btn btn-theme" href="/category/#theano" role="button">Theano (14)</a>	         
        
            <a class="btn btn-theme" href="/category/#machine learning" role="button">Machine learning (5)</a>	         
        
            <a class="btn btn-theme" href="/category/#explorer" role="button">Explorer (2)</a>	         
        
    </p> -->
</div>

    </div><! --/row -->
</div><! --/container -->

        <div id="footerwrap">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <h4>About</h4>
                <div class="hline-w"></div>
                <p>Kinda lazy guy, lol</p>
            </div>
            <div class="col-lg-4">
                <h4>Social Links</h4>
                <div class="hline-w"></div>
                <p>
                    
                        <a href="" class="btn-social btn-outline"><i class="fa fa-dribbble"></i></a>
                    
                        <a href="https://www.facebook.com/roy.xue29" class="btn-social btn-outline"><i class="fa fa-facebook"></i></a>
                    
                        <a href="https://twitter.com/xljroy" class="btn-social btn-outline"><i class="fa fa-twitter"></i></a>
                    
                        <a href="http://instagram.com/xljroy" class="btn-social btn-outline"><i class="fa fa-instagram"></i></a>
                    
                        <a href="" class="btn-social btn-outline"><i class="fa fa-tumblr"></i></a>
                    
                </p>
            </div>
            <div class="col-lg-4">
                <h4>Contacts</h4>
                <div class="hline-w"></div>
                <p>
                    
                        FE2341, <br>
                    
                        213E2B1, <br>
                    
                        Inside Memory. <br>
                    
                </p>
            </div>
        </div><! --/row -->
    </div><! --/container -->
</div><! --/footerwrap -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/retina-1.1.0.js"></script>
<script src="/assets/js/jquery.hoverdir.js"></script>
<script src="/assets/js/jquery.hoverex.min.js"></script>
<script src="/assets/js/jquery.prettyPhoto.js"></script>
<script src="/assets/js/jquery.isotope.min.js"></script>
<script src="/assets/js/custom.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58877422-1∂', 'auto');
  ga('send', 'pageview');

</script>

<script>
// Portfolio
(function($) {
	"use strict";
	var $container = $('.portfolio'),
		$items = $container.find('.portfolio-item'),
		portfolioLayout = 'fitRows';
		
		if( $container.hasClass('portfolio-centered') ) {
			portfolioLayout = 'masonry';
		}
				
		$container.isotope({
			filter: '*',
			animationEngine: 'best-available',
			layoutMode: portfolioLayout,
			animationOptions: {
			duration: 750,
			easing: 'linear',
			queue: false
		},
		masonry: {
		}
		}, refreshWaypoints());
		
		function refreshWaypoints() {
			setTimeout(function() {
			}, 1000);   
		}
				
		$('nav.portfolio-filter ul a').on('click', function() {
				var selector = $(this).attr('data-filter');
				$container.isotope({ filter: selector }, refreshWaypoints());
				$('nav.portfolio-filter ul a').removeClass('active');
				$(this).addClass('active');
				return false;
		});
		
		function getColumnNumber() { 
			var winWidth = $(window).width(), 
			columnNumber = 1;
		
			if (winWidth > 1200) {
				columnNumber = 5;
			} else if (winWidth > 950) {
				columnNumber = 4;
			} else if (winWidth > 600) {
				columnNumber = 3;
			} else if (winWidth > 400) {
				columnNumber = 2;
			} else if (winWidth > 250) {
				columnNumber = 1;
			}
				return columnNumber;
			}       
			
			function setColumns() {
				var winWidth = $(window).width(), 
				columnNumber = getColumnNumber(), 
				itemWidth = Math.floor(winWidth / columnNumber);
				
				$container.find('.portfolio-item').each(function() { 
					$(this).css( { 
					width : itemWidth + 'px' 
				});
			});
		}
		
		function setPortfolio() { 
			setColumns();
			$container.isotope('reLayout');
		}
			
		$container.imagesLoaded(function () { 
			setPortfolio();
		});
		
		$(window).on('resize', function () { 
		setPortfolio();          
	});
})(jQuery);
</script>
    </body>
</html>